{"openapi":"3.0.1","info":{"title":"API Test","description":"Let's practice Swagger UI","version":"1.0.0"},"servers":[{"url":"http://ec2-54-180-117-21.ap-northeast-2.compute.amazonaws.com","description":"Generated server url"}],"security":[{"JWT":[]}],"tags":[{"name":"엑세스 토큰 재발급 API","description":"\t\t [JWT 토큰 재발급 가이드]\n 1. Access Token이 만료되었을 때\n\n    서버에 요청을 보낼 때 Authorization: Bearer {accessToken} 헤더가 필요한데,\n    이 토큰이 만료되면 401 Unauthorized 응답이 옵니다.\n\n 2. Refresh API로 Access Token 재발급 받기\n\n    만료된 Access Token 대신 저장해둔 Refresh Token을 사용해\n    새로운 Access Token을 발급받을 수 있습니다.\n\n요청 예시\n\nPOST /auth/refresh\nContent-Type: application/json\n\n{\n  \"refreshToken\": \"eyJhbGciOiJIUzI1NiIsInR...\"\n}\n\n응답 예시 (200 OK)\n\n{\n  \"accessToken\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6...\"\n}\n\n    새로 발급된 Access Token은 이후 요청 시 Authorization 헤더에 넣어 사용합니다.\n\nAuthorization: Bearer 새_엑세스토큰\n"}],"paths":{"/api/users/color":{"put":{"tags":["user-controller"],"summary":"유저가 글쓰는 색상을 변경","description":"처음에 웹을 시작할 때 색깔을 설정하게 하면 된다, color 지정 필요(임시로 string 타입으로함)","operationId":"updateColor","parameters":[{"name":"color","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/auth/refresh":{"post":{"tags":["엑세스 토큰 재발급 API"],"summary":"엑세스 토큰 재발급","description":"리프레시 토큰을 이용해 새로운 엑세스 토큰을 발급받습니다.","operationId":"refresh","requestBody":{"content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"string"}}}},"required":true},"responses":{"200":{"description":"새로운 엑세스 토큰 발급 성공","content":{"*/*":{"schema":{"type":"object"}}}},"401":{"description":"리프레시 토큰이 없거나 유효하지 않음","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/writings":{"post":{"tags":["writing-controller"],"summary":"글 저장","description":"WritingDto를 전달받아 글을 저장합니다.","operationId":"saveWriting","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WritingDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/writings/simple":{"post":{"tags":["writing-controller"],"summary":"content의 Writing 전체 간략 조회","description":"해당 content의 모든 Writing을 단순히 조회합니다, depth, siblingIndex, time, email(유저정보)만 가져오게된다. 버전과 시간 유저정보를 가져오는 셈이다,title만(제목)이 필요하다., List<WritingDto> 를 리턴한다.","operationId":"getSimple","parameters":[{"name":"title","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/WritingDto"}}}}}}}},"/api/writings/set/official":{"post":{"tags":["writing-controller"],"summary":"official을 새로 지정합니다.","description":"루트 유저가 official로 채택하고 싶은 writingDto가 있다면골라서 채택합니다.official로 채택할 버전을 지정하면 그 글을 불러옵니다.writingDto(depth, siblingIndex, title있는버전)으로 호출합니다.List<WritingDto>를 리턴합니다.","operationId":"setOffical","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WritingDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/WritingDto"}}}}}}}},"/api/writings/parents":{"post":{"tags":["writing-controller"],"summary":"부모 글들 조회","description":"자식 글조각을 선택해서 루트까지 부모 조각을 찾고 순서대로 보여준다.글을 선택한 부분부터 순서대로 보고싶을 때 사용한다.받는 WritingDto는 depth(이어쓰기 번째)와 siblingIndex(같은 depth에서 1번째글인지 2번째글인지)와 title만 담으면된다,List<WritingDto>를 리턴한다","operationId":"getParents","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WritingDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/WritingDto"}}}}}}}},"/api/writings/delete/except-official":{"post":{"tags":["writing-controller"],"summary":"official로 지정한 것 제외 삭제.","description":"루트 유저가 official로 채택한 글 조각을 제외하고 모두 삭제합니다.contentDto를 받고, 해당 official을 리턴합니다.","operationId":"deleteWithoutOfficial","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ContentDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/WritingDto"}}}}}}}},"/api/writings/check":{"post":{"tags":["writing-controller"],"summary":"글 작성 가능 여부 확인","description":"현재 depth의 하위에 글을 더 작성할 수 있는지 확인하고, 가능한 siblingIndex를 반환합니다.","operationId":"checkWriting","parameters":[{"name":"parentDepth","in":"query","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"parentSiblingIndex","in":"query","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"title","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/rooms/exit":{"post":{"tags":["exit-chat-room-controller"],"summary":"문서방 나가기","description":"문서방을 나갈 때 웹소켓을 끊고나서 이 컨트롤러를 호출하면 됩니다. 구독하고 있는 방의id가 필요합니다.편집자라면 문서방 삭제 과정을 거치고 ROOMOUT메시지를 보냅니다.편집자가 아니라면 아무일도 일어나지 않습니다.","operationId":"exitRoom","parameters":[{"name":"roomId","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/api/rooms/create":{"post":{"tags":["chat-room-controller"],"summary":"문서방 생성 및 입장","description":"편집자가 문서방을 생성하고 바로 입장합니다. 이전 글들도 불러오고 입장하고나면 웹소켓 연결을 해야한다.WritingDto를 받는데 최초 작성시 title만 지정해주고 버전은 1.1.0이라고 설정함, 이어쓰는 경우에는 WritingDto에 부모의 depth, siblingIndex가 필요함,ChatRoomDto를 반환함.","operationId":"createRoomAndEnter","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WritingDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/reports":{"post":{"tags":["report-controller"],"summary":"글 신고","description":"특정 글을 신고합니다. 신고자는 로그인한 사용자여야 하며,\n신고된 글 정보와 본문 내용을 통해 관리자 모두한테 이메일이 전송됩니다,\nReportDto 필요함\n","operationId":"reportWriting","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReportDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/image/generate-and-save":{"post":{"tags":["cover-image-controller"],"operationId":"generateAndSaveImage","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ImageGenerateSaveRequestDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/api/genres/set":{"post":{"tags":["genre-controller"],"summary":"장르 설정","description":"장르이름 리스트, contentId를 받음\n      특정 콘텐츠에 장르를 설정합니다.\n      최초 작성자만 설정할 수 있습니다,\n\n      장르목록 List<String>으로 리턴함.\n","operationId":"setGenre","parameters":[{"name":"contentId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"array","items":{"type":"string"}}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/covers":{"post":{"tags":["cover-controller"],"summary":"커버 생성","description":"새로운 커버를 생성함 커버란 캔버스를 누르기 전에 보이는 겉 표지이다. 누르면 나오는 내용물은 content라고 칭한다, CoverDto가 필요하다, CoverDto를 반환한다.","operationId":"createCover","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CoverDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CoverDto"}}}}}}},"/api/contents/like-toggle":{"post":{"tags":["content-controller"],"summary":"좋아요/싫어요 토글","description":"사용자가 해당 컨텐츠에 대해 좋아요 또는 싫어요를 토글합니다. 동일한 타입을 누르면 취소됩니다(좋아요 2번누르면취소),contentId, likeType 필요함, contentDto 리턴함","operationId":"toggleLike","parameters":[{"name":"contentId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"likeType","in":"query","required":true,"schema":{"type":"string","enum":["LIKE","DISLIKE"]}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/comments/write":{"post":{"tags":["comment-controller"],"summary":"댓글 작성","description":"로그인한 사용자가 댓글을 작성합니다,ReqCommentDto(요청용 CommentDto)를 줘야함,LIst<ResCommentDto>를 리턴함","operationId":"writeComment","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReqCommentDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/comments/like-toggle":{"post":{"tags":["comment-controller"],"summary":"댓글 좋아요/싫어요 토글","description":"사용자가 댓글에 대해 좋아요 또는 싫어요를 토글합니다. commentId(댓글아이디), likeType(유저가 좋아요를 눌렀는지,싫어요를 눌렀는지 알고 있어야한다)이 필요하다.LIst<ResCommentDto>를 리턴함","operationId":"toggleCommentLike","parameters":[{"name":"commentId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"likeType","in":"query","required":true,"schema":{"type":"string","enum":["LIKE","DISLIKE"]}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/recommend/user":{"get":{"tags":["recommend-controller"],"summary":"유저 기반 추천","description":"JWT에서 유저 ID를 추출해서 유저 기반 추천을 수행합니다. topN이 전달되면 해당 개수만큼 추천, 전달되지 않으면 기본값 5개 추천을 수행합니다.","operationId":"recommendByUser","parameters":[{"name":"arg0","in":"query","required":false,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/recommend/item/{itemId}":{"get":{"tags":["recommend-controller"],"summary":"아이템 기반 추천","description":"아이템 ID를 기반으로 유사한 아이템을 추천합니다. topN이 전달되면 해당 개수만큼 추천, 전달되지 않으면 기본값 5개 추천을 수행합니다.","operationId":"recommendByItem","parameters":[{"name":"arg1","in":"query","required":false,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/api/writings/room/{roomId}":{"get":{"tags":["writing-controller"],"summary":"문서방 글 조회","description":"문서방(Room ID)에 해당하는 글 트리를 조회하여 반환합니다.문서방의 roomId가 정해지고 구독하고나서 불러오면 된다,roomId를 받고, List<WritingDto>를 리턴한다.","operationId":"getRoomWritings","parameters":[{"name":"roomId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/WritingDto"}}}}}}}},"/api/writings/get/offical":{"get":{"tags":["writing-controller"],"summary":"official로 지정한 글을 가져옵니다.","description":"만약 유저가 채택하고 싶은 글이 있고official로 채택한 버전이 있으면 루트부터 그 글까지 가져옵니다.지정을 하지 않으면 루트에 해당되는 글만 불러옵니다.contentDto를 요청하고 contentDto를 받으면 바로 호출해야합니다.contentDto를 받고 List<WritingDto>를 리턴합니다.","operationId":"getOffical","parameters":[{"name":"arg0","in":"query","required":true,"schema":{"$ref":"#/components/schemas/ContentDto"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/WritingDto"}}}}}}}},"/api/users/likes":{"get":{"tags":["user-controller"],"summary":"유저가 좋아요한 coverDto 반환","description":"유저가 좋아요한 coverDto 반환, 좋아요 누른 작품을 찾을 수 있다","operationId":"getLikedContents","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CoverDto"}}}}}}}},"/api/users/":{"get":{"tags":["user-controller"],"summary":"현재 유저 정보","description":"현재 로그인한 userDto가 반환됨","operationId":"getUserInfo","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserDto"}}}}}}},"/api/rooms/{roomId}":{"get":{"tags":["chat-room-controller"],"summary":"문서방 참여 (구독자)","description":"roomId를 통해 기존 문서방에 구독자로 참여합니다. 이전 글들의 히스토리를 받아옵니다. 웹소켓 연결 전 조회용으로 사용됩니다,roomId를 받고, ChatRoomDto를 리턴한다.","operationId":"enterRoomAsSubscriber","parameters":[{"name":"roomId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/genres/search":{"get":{"tags":["genre-controller"],"summary":"장르로 검색하면 coverDto 반환","description":"장르 이름으로 검색하면 coverDto반환","operationId":"searchGenre","parameters":[{"name":"genreName","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CoverDto"}}}}}}}},"/api/genres/content/{contentId}":{"get":{"tags":["genre-controller"],"summary":"content 하나의 장르 목록 반환","description":"contentId를 입력받아서 해당 content의 장르를 List<String>으로 리턴함","operationId":"getGenresByContentId","parameters":[{"name":"contentId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"type":"string"}}}}}}}},"/api/genres/all":{"get":{"tags":["genre-controller"],"operationId":"getAllGenres","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"type":"string"}}}}}}}},"/api/covers/views":{"get":{"tags":["cover-controller"],"summary":"전체 커버 조회 (조회수순)","description":"모든 커버를 조회수 기준으로 정렬하여 조회합니다,List<CoverDto>를 반환한다","operationId":"getCoversByViews","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CoverDto"}}}}}}}},"/api/covers/search":{"get":{"tags":["cover-controller"],"summary":"제목 검색","description":"제목에 키워드가 포함된 커버를 검색합니다, 제목(keyword)를 주면된다.","operationId":"searchCovers","parameters":[{"name":"keyword","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CoverDto"}}}}}}}},"/api/covers/likes":{"get":{"tags":["cover-controller"],"summary":"전체 커버 조회 (좋아요순)","description":"모든 커버를 좋아요 개수 기준으로 정렬하여 조회합니다,List<CoverDto>를 반환한다","operationId":"getCoversByLikes","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CoverDto"}}}}}}}},"/api/covers/check":{"get":{"tags":["cover-controller"],"summary":"캔버스 상태 확인","description":"coverId로 캔버스 상태(RoomType 등)를 확인합니다. CoverDto를 반환합니다.","operationId":"checkCoverStatus","parameters":[{"name":"coverId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CoverDto"}}}}}}},"/api/covers/all":{"get":{"tags":["cover-controller"],"summary":"전체 커버 조회 (최신순)","description":"모든 커버를 최신순으로 조회합니다, List<CoverDto>를 반환한다.","operationId":"getAllCovers","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CoverDto"}}}}}}}},"/api/contents/{coverId}":{"get":{"tags":["content-controller"],"summary":"컨텐츠 조회","description":"커버 ID에 해당하는 컨텐츠를 조회하거나 없으면 생성하며, 조회수 증가 및 내가 좋아요 또는 싫어요를 눌렀는지도 알려줌,coverId가 필요하고, 성공했을때는 contentDto를 실패했을때는 string을 리턴함","operationId":"getContent","parameters":[{"name":"coverId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/comments/by-content":{"get":{"tags":["comment-controller"],"summary":"특정 글(content)의 댓글 조회","description":"글에 달린 댓글을 보여주기 위해 쓴다, contentId 필요함,LIst<ResCommentDto>를 리턴함","operationId":"getComments","parameters":[{"name":"contentId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/":{"get":{"tags":["first-controller"],"summary":"테스트용","description":"아무동작안하지만 필요한 컨트롤러.","operationId":"getCurrentUser","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/api/writings/delete/root":{"delete":{"tags":["writing-controller"],"summary":"사용자 루트 글 삭제","description":"글쓴 본인이 루트 글을 삭제합니다. 실제 삭제는 아니며 본문을 빈 문자열로 처리합니다. 트롤 방지책으로 글을 지워버리고 임시로 루트의 이름을 달아둠,삭제할 WritingDto를 받음","operationId":"deleteRoot","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WritingDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/writings/delete/admin":{"delete":{"tags":["writing-controller"],"summary":"관리자 글 삭제","description":"현재 유저가 관리자 유저면 특정 글을 삭제 처리합니다. 실제 삭제는 아니며 본문을 빈 문자열로 처리합니다.글쓴이는 관리자 계정으로 대체됩니다,삭제할 WritingDto를 받음.","operationId":"deleteByAdmin","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WritingDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/covers/{id}":{"delete":{"tags":["cover-controller"],"summary":"커버 삭제","description":"User.ROLE이 ADMIN인 사용자가 커버를 삭제합니다, coverId를 주면된다.","operationId":"deleteCover","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/api/comments/delete":{"delete":{"tags":["comment-controller"],"summary":"댓글 삭제","description":"유저 본인이 쓴 댓글을 삭제한다, contentId, commentId가 필요하다,LIst<ResCommentDto>를 리턴함","operationId":"deleteComment","parameters":[{"name":"commentId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"contentId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}}},"components":{"schemas":{"WritingDto":{"type":"object","properties":{"depth":{"type":"integer","description":"현재 몇번째로 이어쓰고 있나","format":"int32"},"siblingIndex":{"type":"integer","description":"현재 이어쓰기 번째에서 몇번째 글인가 (최대2)","format":"int32"},"parentSiblingIndex":{"type":"integer","description":"부모는 몇번째 글인가(최대2)","format":"int32"},"body":{"type":"string","description":"글내용"},"time":{"type":"string","description":"타임스탬프","format":"date-time"},"username":{"type":"string","description":"이메일"},"title":{"type":"string","description":"전체 글의 제목"},"userId":{"type":"integer","format":"int64"},"contentId":{"type":"integer","description":"전체 글의 id, 제목으로 대체될 때는 안씀","format":"int64"},"color":{"type":"string","description":"유저의 색상"}},"description":"글조각(이어쓰기 단위)이 필요할때 넘기는 용도로 쓰임,요청할때는 대부분 depth, siblingIndex, title으로 간단하게 정보를 요청함.글 조각의 내용이 필요없을 때는 depth, siblingIndex, title, username로 간략하게 정보를 응답 받는 경우가 있음,원래는 depth, siblingIndex, parentIndex, body, time, username, title, color까지 응답받을 수 있음."},"CommentLikeDto":{"type":"object","properties":{"commentId":{"type":"integer","description":"댓글id","format":"int64"},"userId":{"type":"integer","description":"유저id","format":"int64"},"likeType":{"type":"string","description":"내가 댓글에 좋아요눌렀는지 싫어요 눌렀는지","enum":["LIKE","DISLIKE"]}},"description":"댓글에 달린 좋아요, 응답용"},"ContentDto":{"type":"object","properties":{"id":{"type":"integer","description":"id","format":"int64"},"view":{"type":"integer","description":"조회수","format":"int32"},"commentDtos":{"type":"array","description":"댓글dto","items":{"$ref":"#/components/schemas/ResCommentDto"}},"writingDtos":{"type":"array","description":"조각글들을 모두 리턴함, 글 내용이 아직 필요없을 때는 depth, siblingIndex, title, username로 만든 dto가 리턴됨","items":{"$ref":"#/components/schemas/WritingDto"}},"likeDtos":{"type":"array","description":"글에 있는 좋아요 정보를 리턴","items":{"$ref":"#/components/schemas/LikeDto"}},"coverDto":{"$ref":"#/components/schemas/CoverDto"},"likeNum":{"type":"integer","description":"좋아요수","format":"int32"},"likeType":{"type":"string","description":"내가 좋아요/ 싫어요를 눌렀는지","enum":["LIKE","DISLIKE"]},"title":{"type":"string","description":"제목"},"official":{"type":"string"},"genres":{"type":"array","description":"해당 official의 장르 리스트 (예: 판타지, 스릴러 등)","items":{"type":"string","description":"해당 official의 장르 리스트 (예: 판타지, 스릴러 등)"}}},"description":"전체 글 관련 dto, 응답용요청할때는 대부분 coverId로 요청함댓글, 글조각 목록, 좋아요, 제목, 커버dto, 좋아요갯수, 유저가 그 글에 좋아요/싫어요를 눌렀는지 리턴함"},"CoverDto":{"type":"object","properties":{"id":{"type":"integer","description":"coverId","format":"int64"},"title":{"type":"string","description":"글 제목"},"coverImageUrl":{"type":"string","description":"이미지url"},"contentId":{"type":"integer","description":"전체 글 관련 dto","format":"int64"},"time":{"type":"string","description":"타임스탬프","format":"date-time"},"view":{"type":"integer","description":"조회수","format":"int32"},"likeNum":{"type":"integer","description":"좋아요갯수","format":"int64"},"roomType":{"type":"string","description":"편집중일때; EDITING (roomId와 같이 실림)편집 가능할때; AVAILABLE완성했을때; COMPLETE","enum":["EDITING","COMPLETE","AVAILABLE"]},"roomId":{"type":"string","description":"현재 편집중인 문서방의 id"},"limit":{"type":"integer","description":"최대 이어쓸 수 있는 작가수 한계","format":"int32"}},"description":"표지 정보에 관한 dto 응답용,제목 이미지 타임스탬프 조회수 좋아요개수 응답함"},"LikeDto":{"type":"object","properties":{"contentTitle":{"type":"string","description":"좋아요한 글 제목"},"email":{"type":"string","description":"좋아요 누른 이메일"},"likeType":{"type":"string","description":"enum LIKE, DISLIKE 두가지있음","enum":["LIKE","DISLIKE"]}},"description":"전체 글(content) 좋아요 dto,유저가 좋아요를 누른 글을 가져오는데 쓰임, 응답용좋아요 싫어요 둘다 있지만 좋아요한 글만 가져옴"},"ResCommentDto":{"type":"object","properties":{"id":{"type":"integer","description":"댓글 id","format":"int64"},"contentId":{"type":"integer","description":"전체 글(content) Id","format":"int64"},"userId":{"type":"integer","description":"유저 id","format":"int64"},"commentLikeDtos":{"type":"array","description":"댓글 좋아요 관련 dto","items":{"$ref":"#/components/schemas/CommentLikeDto"}},"body":{"type":"string","description":"댓글내용"},"time":{"type":"string","description":"타임스탬프","format":"date-time"},"likeNum":{"type":"integer","description":"좋아요수","format":"int32"},"disLikeNum":{"type":"integer","description":"싫어요수","format":"int32"},"likeType":{"type":"string","description":"내가 좋아요/ 싫어요를 눌렀는지","enum":["LIKE","DISLIKE"]}},"description":"응답용 댓글dto,댓글id, 전체 글 관련 id(contentId), 유저 id(userId), 댓글 좋아요 관련 dto(commentLikeDtos), 댓글내용, 타임스탬프,댓글의 좋아요수, 댓글의 싫어요수, 내가 댓글에 좋아요/싫어요를 눌렀는지를 필드에 담아서 응답함."},"ReportDto":{"type":"object","properties":{"body":{"type":"string","description":"신고내용"},"time":{"type":"string","description":"타임스탬프","format":"date-time"},"depth":{"type":"integer","description":"글 조각이 몇번째 이어쓰기인지","format":"int32"},"siblingIndex":{"type":"integer","description":"같은 이어쓰기 순서에서 몇번째 글인지(최대2)","format":"int32"},"title":{"type":"string","description":"전체 글(content) 제목"}},"description":"신고내용을 담아서 이 dto로 요청함,신고할 내용과 신고할 글을 지정해줘서 보내면됨"},"ImageGenerateSaveRequestDto":{"type":"object","properties":{"postId":{"type":"string"},"title":{"type":"string"},"genres":{"type":"array","items":{"type":"string"}},"content":{"type":"string"}}},"ReqCommentDto":{"type":"object","properties":{"contentId":{"type":"integer","description":"전체 글(content) id","format":"int64"},"body":{"type":"string","description":"댓글 내용"},"time":{"type":"string","description":"타임스탬프 프론트에서 찍고 넘겨줘야함","format":"date-time"}},"description":"댓글 요청하는 dto"},"UserDto":{"type":"object","properties":{"id":{"type":"integer","description":"인조키(거의 필수 아님)","format":"int64"},"nickname":{"type":"string","description":"현재는 여기다가 이메일을 중복으로 담음"},"email":{"type":"string","description":"이메일"},"color":{"type":"string","description":"글씨 색상"},"role":{"type":"string","description":"역할(ADMIN 빼고 다 USER)","enum":["ADMIN","USER"]},"likeDtos":{"type":"array","items":{"$ref":"#/components/schemas/LikeDto"}},"writingDtos":{"type":"array","items":{"$ref":"#/components/schemas/WritingDto"}}},"description":"유저정보 dto, 요청할때는 안씀(토큰씀) 응답할때 넘기는용도,(현재 썼던 댓글은 따로 리턴안함.)"}},"securitySchemes":{"JWT":{"type":"http","scheme":"bearer","bearerFormat":"JWT"}}}}